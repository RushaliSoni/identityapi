@model Identity.API.ViewModels.EnableAuthenticatorViewModel


<div class="login-page">
    @*<div class="page-header">
            <h1>Login</h1>
        </div>*@

    @Html.PartialAsync("_ValidationSummary")

    <div class="row">
            <div class="col-sm-12 col-md-8 col-lg-8 col-md-offset-2 col-lg-offset-2">
                <div class="panel panel-default">
                  
                    <div class="panel-body">
                        <form asp-route="EnableAuthenticator">

                            <fieldset>
                                <div class="form-group">
                                    <h3>Enable Authenticator</h3>
                                </div>
                                <h4>Scan the QR Code or enter this key <kbd>1234567890</kbd> into your two factor authenticator app. Spaces and casing do not matter.</h4>
                                @*<div class="alert alert-info">To enable QR code generation please read our <a href="https://go.microsoft.com/fwlink/?Linkid=852423">documentation</a>.</div>*@
                                @*<div id="qrCode">
                                </div>*@
                                <img class="img-fluid d-xs-none" alt="share" width="250" height="250" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAIAAAAiOjnJAAAABmJLR0QA/wD/AP+gvaeTAAAFfUlEQVR4nO3dwW7cOhBFQfsh///LeQtvZiODNPto5KBqaWg0in3BNEiq+fn3798PmPbfux+Af5NgkRAsEoJFQrBICBYJwSIhWCQEi4RgkRAsEoJFQrBICBYJwSIhWCQEi8Sfn33s8/Nz9jk+Pj5297KePMPrd63c5+r6q2fevefKZ1d+P0/4u3wxYpEQLBKCReKHNdark/d8VmqCk5pj5Z4r9dNU7bJSV61870qdV/9dvmfEIiFYJASLxECN9epk/mb3+t35pNdrVuqS3fpv5f5Tz1PM+c2+E2/EIiFYJASLxHCNNWVl7upfmsdaebapeuseRiwSgkVCsEg8tMa6clIDnay7nTzb7vPsXvNMRiwSgkVCsEgM11hTcyon+8Gn5qhO1iLrn++6f67LiEVCsEgIFomBGquYazmZE3pyrTNl6t3GjhGLhGCRECwSP6yx6jpjqu452VM11Rtiyv371k8YsUgIFgnBIjHcH2tqH9LuXu+p+afdNcQVJ9dPzVEV/S++Z8QiIVgkBIvE5z0zH7v/xxf7rlaebWpdclfRE3X3d3h1zc8YsUgIFgnBIvGG/VhFXXKlnr+Z6llVvJP4quhT+j0jFgnBIiFYJMK1wpNe5FNzRVefneqf/oR+EFN9U2frUSMWCcEiIVgkwv5Yd56vd1Ir1PXQbm/3V1P15f2MWCQEi4RgkbjpvMJiza7orVD0aJg6C2jlniufvYcRi4RgkRAsEj/c8z5VM73rvOcVxVmBJ3vSn39G4SsjFgnBIiFYJIZrrF1T+4Ge1oO07ll657uN9mPxIIJFQrBI3HSWzkntUsyZ7e7BL3qZFvvNnzCP+MWIRUKwSAgWiYH+WFN1UtFD60p9Vs/KfV6d9BqdmofzXiG/gGCRECwSwzXWq/qduGK9bOp53nX/Yq+YGosHESwSgkVi+L3C4j24oud7cV5Nsa9r97tenfxOzhmxSAgWCcEi8YazdJ65trV+z5MaZWod8/nvGxqxSAgWCcEiMbzn/c5zdYrq8M4948Vc2tRnzxmxSAgWCcEiEfZ5v1LM96wo9qQX++un1lXvOfv5ihGLhGCRECwS4XmFK59dOU+wrkuK/fUrZ+ZMPfPUfJX3CvkFBIuEYJEY6EH6W/ZR1dcXveBPrrl6znsYsUgIFgnBInFT74YpdS+uqetX1PulTs7tubpmnRGLhGCRECwS4VphcW7gial+Cid9E3bvedI3f+X+V9ecM2KRECwSgkXiF8xj3dlr9EpRIz6t1/wV81g8iGCRECwSD32vcPezU2fRXH32ZG3xqgaa2ndV9NA6Z8QiIVgkBIvE8Frh7jVT80O7dcyrO8+cXvneFbs15Z3P9sWIRUKwSAgWieF5rKl9RSvXTK21vSrO26l7sq8ozvP5nhGLhGCRECwSw70bTq4vziXcVe+RurNefG8fByMWCcEiIVgkwv1YU+uJ9TNM3fPk5yfvY+7+G+teX1+MWCQEi4RgkbjpTOhdd873nKj7jk599p5zoF8ZsUgIFgnBIhHued9V7Hk66R011VPqzvm83T1nHSMWCcEiIVgkBtYKizNw7rz/1XdN7dmv95+tfNfV93Z9H4xYJASLhGCRGN6PNVUzFT02V/pX7d5z5fqT+aRiP9Y9jFgkBIuEYJF4Qw/SXSd9sKZqvpX5pLoWnOptcfLM64xYJASLhGCR+AU11pWT9bLifOipsxqL9c3d39V5vWXEIiFYJASLRNiD9MTUHM/uHFix1rlyTXEO9Mn32o/FQwkWCcEiMVBj1fuB7uwperL/aWpf/Mm5QFPzUuaxeCjBIiFYJB7aH4vfzohFQrBICBYJwSIhWCQEi4RgkRAsEoJFQrBICBYJwSIhWCQEi4RgkRAsEoJF4n9EbJO6T+U9WwAAAABJRU5ErkJggg==">
                                <div id="qrCodeData" data-url="@Model.AuthenticatorUri"></div>
                                <div class="form-group">
                                    <h4>
                                        Once you have scanned the QR code or input the key above, your two factor authentication app will provide you
                                        with a unique code. Enter the code in the confirmation box below.
                                    </h4>
                                </div>
                                <div class="form-group">
                                    <label class="label" asp-for="Code" style="color:white ; font-size:100%; font-weight:normal;">Verification Code</label>
                                    <input class="form-control" style="margin-top:8px" placeholder="Enter vreification Code" asp-for="Code" autofocus>
                                </div>


                                <div class="form-group">

                                    <button class="btn" style="color:white; margin-top:20px; margin-right: 10px" asp-action="EnableAuthenticator"
                                            asp-controller="UserRegistration">
                                        Verify
                                    </button>


                                    <button class="btn" style="margin-top:20px; background-color: lightgray" asp-action="EnableAuthenticator"
                                            asp-controller="UserRegistration">
                                        Cancle
                                    </button>

                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
</div>
@section Scripts {  
    @await Html.PartialAsync("_ValidationScriptsPartial")  
    <script src="~/qrcodejs/qrcode.js"></script>
     
    <script type="text/javascript">  
        new QRCode(document.getElementById("qrCode"),  
            {  
                text: "@Html.Raw(Model.AuthenticatorUri)",  
                width: 225,  
                height: 225  
            });  
    </script>  
}